{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImagesByQuery(query) {\n  const URL = 'https://pixabay.com/api';\n  const API_KEY = '45177061-dd77212e3ebf23708a837f031';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createListMarkup(data) {\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  const gallerylist = document.querySelector('.gallery-list');\n  const images = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"card-item\">\n<a class=\"gallery-link\"  href=${largeImageURL}>\n<img class=\"gallery-image\"\nsrc=${webformatURL} alt=${tags} /></a>\n   <div class=\"card-body\">\n     <p class=\"card-text\">likes<span class=\"card-value\"> ${likes}</span></p>\n     <p class=\"card-text\">views<span class=\"card-value\"> ${views}</span></p>\n     <p class=\"card-text\">comments<span class=\"card-value\"> ${comments}</span></p>\n     <p class=\"card-text\">downloads<span class=\"card-value\"> ${downloads}</span></p>\n</li>`\n    )\n    .join('');\n\n  gallerylist.innerHTML = images;\n  lightbox.refresh();\n}\n","import { searchImagesByQuery } from './js/pixabay-api.js';\nimport { createListMarkup } from './js/render-functions.js';\n\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryList = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', handleSubmitBtn);\n\nfunction handleSubmitBtn(event) {\n  event.preventDefault();\n\n  galleryList.innerHTML = '';\n  loader.classList.remove('hidden');\n\n  const form = event.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase();\n\n  searchImagesByQuery(queryValue)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        loader.classList.add('hidden');\n        return;\n      }\n      if (queryValue === '') {\n        iziToast.error({\n          position: 'topRight',\n          message: 'Please fill the input',\n        });\n        loader.classList.add('hidden');\n        return;\n      } else {\n        createListMarkup(data);\n      }\n      loader.classList.add('hidden');\n    })\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction onFetchError(error) {\n  galleryList.innerHTML = '';\n  iziToast.error({\n    position: 'topRight',\n    message: `${error}`,\n  });\n}\n"],"names":["searchImagesByQuery","query","URL","API_KEY","params","response","createListMarkup","data","lightbox","SimpleLightbox","gallerylist","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","galleryList","loader","handleSubmitBtn","event","form","queryValue","iziToast","onFetchError","error"],"mappings":"6vBAAO,SAASA,EAAoBC,EAAO,CACzC,MAAMC,EAAM,0BACNC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CAChD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfO,SAASC,EAAiBC,EAAM,CACrC,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEKC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAASJ,EAAK,KACjB,IACC,CAAC,CACC,aAAAK,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,gCACoBL,CAAa;AAAA;AAAA,MAEvCD,CAAY,QAAQE,CAAI;AAAA;AAAA,2DAE6BC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA,MAEnE,EACA,KAAK,EAAE,EAEVR,EAAY,UAAYC,EACxBH,EAAS,QAAO,CAClB,CC3BA,MAAMW,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,CAAe,EAErD,SAASA,EAAgBC,EAAO,CAC9BA,EAAM,eAAc,EAEpBH,EAAY,UAAY,GACxBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMG,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpDxB,EAAoByB,CAAU,EAC3B,KAAKlB,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBmB,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EACDL,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACD,CACD,GAAII,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uBACnB,CAAS,EACDL,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACR,MACQf,EAAiBC,CAAI,EAEvBc,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,EACA,MAAMM,CAAY,EAClB,QAAQ,IAAMH,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASG,EAAaC,EAAO,CAC3BR,EAAY,UAAY,GACxBM,EAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGE,CAAK,EACrB,CAAG,CACH"}